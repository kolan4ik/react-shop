{"version":3,"sources":["components/Footer.jsx","logo.svg","components/Header.jsx","reducer.js","context.js","components/BasketItem.jsx","components/BasketList.jsx","components/Cart.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Preloader.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.jsx","index.js"],"names":["Footer","className","Date","getFullYear","target","rel","href","Header","src","logo","alt","id","reducer","state","type","payload","goods","loadin","alertName","order","filter","item","itemIndex","findIndex","newState","name","counter","newOrder","map","index","isVisibleBasket","ShopContent","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","addToBasket","removeFromBasket","handleBasketShow","incrementGoods","decrementGoods","setGoods","data","Provider","BasketItem","price","useContext","onClick","BasketList","totalPrice","reduce","acc","length","Cart","GoodsItem","description","full_background","useState","isBasket","setIsBasket","addToBasketHandler","style","fontSize","GoodsList","Preloader","Alert","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","Authorization","process","then","res","json","featured","catch","console","log","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fec470ca.chunk.js","sourcesContent":["import React from 'react';\n\nexport const Footer = () => {\n  return (\n    <footer className='page-footer grey darken-3'>\n      <div className='footer-copyright'>\n        <div className='container'>\n          © {new Date().getFullYear()} Copyright Text\n          <a className='grey-text text-lighten-4 right' target='_blank' rel='noreferrer' href='https://github.com/kolan4ik/react-shop'>\n            GitHub\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/logo.4bdbcf83.svg\";","import React from 'react';\n\nimport logo from '../logo.svg';\n\nexport const Header = () => {\n  return (\n    <nav className='grey darken-3'>\n      <div className='nav-wrapper'>\n        <div className='brand-logo'>\n          <img src={logo} className='App-logo' alt='logo' /> Shop\n        </div>\n        <ul id='nav-mobile' className='right hide-on-med-and-down'>\n          <li>\n            <a target='_blank' rel='noreferrer' href='https://github.com/kolan4ik/react-shop'>\n              GitHub\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n};\n","export function reducer(state, { type, payload }) {\n  switch (type) {\n    case 'SET_GOODS':\n      return {\n        ...state,\n        goods: payload || [],\n        loadin: false,\n      };\n\n    case 'CLOSE_ALERT':\n      return {\n        ...state,\n        alertName: '',\n      };\n\n    case 'REMOVE_FROM_BASKET':\n      return {\n        ...state,\n        alertName: payload.alertName,\n        order: state.order.filter(item => item.id !== payload.id),\n      };\n    case 'ADD_TO_BASKET':\n      const itemIndex = state.order.findIndex(item => item.id === payload.id);\n      let newState = [];\n      if (itemIndex < 0) {\n        newState = {\n          ...state,\n          alertName: payload.name,\n          order: [\n            ...state.order,\n            {\n              ...payload,\n              counter: 1,\n            },\n          ],\n        };\n      } else {\n        const newOrder = state.order.map((item, index) => {\n          if (index === itemIndex) {\n            return {\n              ...item,\n              counter: item.counter + 1,\n            };\n          } else {\n            return item;\n          }\n        });\n        newState = {\n          ...state,\n          alertName: payload.alertName,\n          order: [...newOrder],\n        };\n      }\n      return newState;\n\n    case 'HANDLE_BASKET_SHOW':\n      return {\n        ...state,\n        isVisibleBasket: !state.isVisibleBasket,\n      };\n\n    case 'INC_GOODS':\n      return {\n        ...state,\n        order: state.order.map(item => {\n          if (item.id === payload.id) {\n            return {\n              ...item,\n              counter: item.counter + 1,\n            };\n          } else {\n            return item;\n          }\n        }),\n      };\n    case 'DEC_GOODS':\n      return {\n        ...state,\n        order: state.order.map(item => {\n          if (item.id === payload.id) {\n            return {\n              ...item,\n              counter: item.counter !== 0 ? item.counter - 1 : 0,\n            };\n          } else {\n            return item;\n          }\n        }),\n      };\n\n    default:\n      return state;\n  }\n}\n","import { createContext, useReducer } from 'react';\nimport { reducer } from './reducer';\n\nexport const ShopContent = createContext();\n\nconst initialState = {\n  goods: [],\n  loadin: true,\n  order: [],\n  isVisibleBasket: false,\n  alertName: '',\n};\n\nexport const ContextProvider = ({ children }) => {\n  const [value, dispatch] = useReducer(reducer, initialState);\n\n  value.closeAlert = () => {\n    dispatch({ type: 'CLOSE_ALERT' });\n  };\n  value.addToBasket = item => {\n    dispatch({ type: 'ADD_TO_BASKET', payload: item });\n  };\n  value.removeFromBasket = id => {\n    dispatch({\n      type: 'REMOVE_FROM_BASKET',\n      payload: {\n        id,\n      },\n    });\n  };\n\n  value.handleBasketShow = id => {\n    dispatch({\n      type: 'HANDLE_BASKET_SHOW',\n    });\n  };\n  value.incrementGoods = id => {\n    dispatch({\n      type: 'INC_GOODS',\n      payload: {\n        id,\n      },\n    });\n  };\n  value.decrementGoods = id => {\n    dispatch({\n      type: 'DEC_GOODS',\n      payload: {\n        id,\n      },\n    });\n  };\n\n  value.setGoods = data => {\n    dispatch({ type: 'SET_GOODS', payload: data });\n  };\n\n  return <ShopContent.Provider value={value}>{children}</ShopContent.Provider>;\n};\n","import { useContext } from 'react';\nimport { ShopContent } from '../context';\n\nexport const BasketItem = ({ name, id, price, counter }) => {\n  const { incrementGoods, decrementGoods, removeFromBasket } = useContext(ShopContent);\n  return (\n    <div className='collection-item'>\n      {name} x{' '}\n      <span className='calc'>\n        <i onClick={() => incrementGoods(id)} className='material-icons'>\n          add\n        </i>\n        <span className='calc_in'>{counter}</span>\n        <i onClick={() => decrementGoods(id)} className='material-icons'>\n          remove\n        </i>\n      </span>\n      = {price * counter} рублей\n      <span className='secondary-content'>\n        <i onClick={() => removeFromBasket(id)} className='material-icons basket-remove'>\n          close\n        </i>\n      </span>\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { ShopContent } from '../context';\nimport { BasketItem } from './BasketItem';\n\nexport const BasketList = () => {\n  const { order, handleBasketShow } = useContext(ShopContent);\n  const totalPrice = order.reduce((acc, item) => {\n    return acc + item.price * item.counter;\n  }, 0);\n  return (\n    <div className='collection basket-list'>\n      <div className='collection-item active'>Корзина</div>\n      {order.length ? order.map(item => <BasketItem key={item.id} {...item} />) : <div className='collection-item'>Тут пока нету товаров</div>}\n      <div className='collection-item active'>Общаяя стоимость {totalPrice} рублей</div>\n      <div className='collection-item  text-center'>\n        <button className='btn btn-small'>Оформить</button>\n      </div>\n      <i onClick={handleBasketShow} className='material-icons basket-close'>\n        close\n      </i>\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { ShopContent } from '../context';\n\nexport const Cart = ({ counter = 0 }) => {\n  const { handleBasketShow } = useContext(ShopContent);\n  return (\n    <div onClick={handleBasketShow} className='basket-icon grey darken-2 white-text  '>\n      <i className='material-icons'>shopping_cart</i>\n      {counter ? <span className='basket-counter'>{counter}</span> : null}\n    </div>\n  );\n};\n","import { useState, useContext } from 'react';\nimport { ShopContent } from '../context';\nexport const GoodsItem = ({ id, name, description, price, full_background }) => {\n  const [isBasket, setIsBasket] = useState(false);\n\n  const { addToBasket } = useContext(ShopContent);\n\n  const addToBasketHandler = (id, name, description, price, full_background) => {\n    addToBasket(id, name, description, price, full_background);\n    setIsBasket(true);\n  };\n\n  return (\n    <div className='card'>\n      <div className='card-image'>\n        <img src={full_background} alt={name} />\n      </div>\n      <div className='card-content'>\n        <span className='card-title'>{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className='card-action'>\n        <button\n          onClick={() => {\n            addToBasketHandler({\n              id,\n              name,\n              description,\n              price,\n              full_background,\n            });\n          }}\n          className='btn'\n        >\n          {isBasket ? 'В корзине' : 'Купить'}\n        </button>\n        <span style={{ fontSize: '1.8rem' }} className='right'>\n          {price} руб.\n        </span>\n      </div>\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { ShopContent } from '../context';\nimport { GoodsItem } from './GoodsItem';\n\nexport const GoodsList = () => {\n  const { goods = [] } = useContext(ShopContent);\n  if (!goods.length) {\n    return <h3>Nothing here</h3>;\n  }\n  return (\n    <>\n      {goods.map(item => (\n        <GoodsItem key={item.id} {...item} />\n      ))}\n    </>\n  );\n};\n","export const Preloader = () => {\n\treturn (\n\t\t<div className='progress'>\n\t\t\t<div className='indeterminate'></div>\n\t\t</div>\n\t);\n};\n","import { useEffect, useContext } from 'react';\nimport { ShopContent } from '../context';\n\nexport const Alert = () => {\n  const { alertName = '', closeAlert } = useContext(ShopContent);\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 2000);\n    return () => {\n      clearTimeout(timerId);\n    };\n    // eslint-disable-next-line\n  }, [alertName]);\n  return (\n    <div id='toast-container'>\n      <div className='toast'>{alertName} добавлен в корзину</div>\n    </div>\n  );\n};\n","import React, { useEffect, useContext } from 'react';\n\nimport { API_KEY, API_URL } from '../config';\nimport { BasketList } from './BasketList';\nimport { Cart } from './Cart';\nimport { GoodsList } from './GoodsList';\nimport { Preloader } from './Preloader';\nimport { Alert } from './Alert';\n\nimport { ShopContent } from '../context';\n\nexport const Shop = () => {\n  const { loadin, order, isVisibleBasket, alertName, setGoods } = useContext(ShopContent);\n\n  useEffect(function getGoods() {\n    fetch(API_URL, { headers: { Authorization: API_KEY } })\n      .then(res => res.json())\n      .then(data => {\n        setGoods(data.featured);\n      })\n      .catch(console.log);\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <main>\n      <div className='container'>\n        <Cart counter={order.length} />\n        {loadin ? (\n          <Preloader />\n        ) : (\n          <div className='goods'>\n            <GoodsList />\n          </div>\n        )}\n        {isVisibleBasket && <BasketList />}\n      </div>\n      {alertName && <Alert />}\n    </main>\n  );\n};\n","const API_KEY = process.env.REACT_APP_API_KEY;\nconst API_URL = \"https://fortniteapi.io/v1/shop?lang=ru\";\n\nexport { API_KEY, API_URL };\n","import { Footer } from './components/Footer';\nimport { Header } from './components/Header';\nimport { Shop } from './components/Shop';\nimport { ContextProvider } from './context';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Shop />\n      </ContextProvider>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}