{"version":3,"sources":["components/Footer.jsx","logo.svg","components/Header.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Cart.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Preloader.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.jsx","index.js"],"names":["Footer","className","Date","getFullYear","target","rel","href","Header","src","logo","alt","id","BasketItem","name","price","counter","removeFromBasket","Function","prototype","incrementGoods","decrementGoods","class","onClick","BasketList","orders","handleBasketShow","totalPrice","reduce","acc","item","length","map","Cart","GoodsItem","description","full_background","addToBasket","useState","isBasket","setIsBasket","addToBasketHandler","style","fontSize","GoodsList","goods","Preloader","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","setGoods","loadin","setLoading","order","setOrder","isVisibleBasket","setIsVisibleBasket","alertName","setAlertName","fetch","headers","Authorization","process","then","res","json","data","featured","catch","console","log","param","itemIndex","findIndex","newState","index","newBasket","filter","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4KAEaA,EAAS,WACpB,OACE,wBAAQC,UAAU,4BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAIC,MAAOC,cADhB,kBAEE,mBAAGF,UAAU,iCAAiCG,OAAO,SAASC,IAAI,aAAaC,KAAK,yCAApF,4BCRK,MAA0B,iCCI5BC,EAAS,WACpB,OACE,qBAAKN,UAAU,gBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,sBAAKA,UAAU,aAAf,UACE,qBAAKO,IAAKC,EAAMR,UAAU,WAAWS,IAAI,SAD3C,WAGA,oBAAIC,GAAG,aAAaV,UAAU,6BAA9B,SACE,6BACE,mBAAGG,OAAO,SAASC,IAAI,aAAaC,KAAK,yCAAzC,8B,qBCXCM,EAAa,SAAC,GAAmJ,IAAjJC,EAAgJ,EAAhJA,KAAMF,EAA0I,EAA1IA,GAAIG,EAAsI,EAAtIA,MAAOC,EAA+H,EAA/HA,QAA+H,IAAtHC,wBAAsH,MAAnGC,SAASC,UAA0F,MAA/EC,sBAA+E,MAA9DF,SAASC,UAAqD,MAA1CE,sBAA0C,MAAzBH,SAASC,UAAgB,EAC3K,OACE,sBAAKG,MAAM,kBAAX,UACGR,EADH,KACW,IACT,uBAAMZ,UAAU,OAAhB,UACE,mBAAGqB,QAAS,kBAAMH,EAAeR,IAAKV,UAAU,iBAAhD,iBAGA,sBAAMA,UAAU,UAAhB,SAA2Bc,IAC3B,mBAAGO,QAAS,kBAAMF,EAAeT,IAAKV,UAAU,iBAAhD,uBAPJ,KAWKa,EAAQC,EAXb,wCAYE,sBAAMd,UAAU,oBAAhB,SACE,mBAAGqB,QAAS,kBAAMN,EAAiBL,IAAKU,MAAM,+BAA9C,yBCfKE,EAAa,SAAC,GAA6K,IAAD,IAA1KC,cAA0K,MAAjK,GAAiK,MAA7JL,sBAA6J,MAA5IF,SAASC,UAAmI,MAAxHE,sBAAwH,MAAvGH,SAASC,UAA8F,MAAnFO,wBAAmF,MAAhER,SAASC,UAAuD,MAA5CF,wBAA4C,MAAzBC,SAASC,UAAgB,EAC/LQ,EAAaF,EAAOG,QAAO,SAACC,EAAKC,GACrC,OAAOD,EAAMC,EAAKf,MAAQe,EAAKd,UAC9B,GACH,OACE,sBAAKd,UAAU,yBAAf,UACE,qBAAKoB,MAAM,yBAAX,wDACCG,EAAOM,OAASN,EAAOO,KAAI,SAAAF,GAAI,OAAI,cAAC,EAAD,aAAYT,eAAgBA,EAAgBD,eAAgBA,EAAgBH,iBAAkBA,GAAoCa,GAAbA,EAAKlB,OAAoB,qBAAKV,UAAU,kBAAf,6HAClL,sBAAKoB,MAAM,yBAAX,yGAAsDK,EAAtD,2CACA,qBAAKL,MAAM,+BAAX,SACE,wBAAQpB,UAAU,gBAAlB,gEAEF,mBAAGqB,QAASG,EAAkBJ,MAAM,8BAApC,uBCdOW,EAAO,SAAC,GAA4D,IAAD,IAAzDjB,eAAyD,MAA/C,EAA+C,MAA5CU,wBAA4C,MAAzBR,SAASC,UAAgB,EAC9E,OACE,sBAAKI,QAASG,EAAkBxB,UAAU,yCAA1C,UACE,mBAAGA,UAAU,iBAAb,2BACCc,EAAU,sBAAMd,UAAU,iBAAhB,SAAkCc,IAAkB,SCFxDkB,EAAY,SAAC,GAAoE,IAAlEtB,EAAiE,EAAjEA,GAAIE,EAA6D,EAA7DA,KAAMqB,EAAuD,EAAvDA,YAAapB,EAA0C,EAA1CA,MAAOqB,EAAmC,EAAnCA,gBAAiBC,EAAkB,EAAlBA,YAAkB,EAC3DC,oBAAS,GADkD,mBACpFC,EADoF,KAC1EC,EAD0E,KAQ3F,OACE,sBAAKtC,UAAU,OAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKO,IAAK2B,EAAiBzB,IAAKG,MAElC,sBAAKZ,UAAU,eAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8BY,IAC9B,4BAAIqB,OAEN,sBAAKjC,UAAU,cAAf,UACE,wBACEqB,QAAS,YAhBU,SAACX,EAAIE,EAAMqB,EAAapB,EAAOqB,GACxDC,EAAYzB,EAAIE,EAAMqB,EAAapB,EAAOqB,GAC1CI,GAAY,GAeJC,CAAmB,CACjB7B,KACAE,OACAqB,cACApB,QACAqB,qBAGJlC,UAAU,MAVZ,SAYGqC,EAAW,oDAAc,yCAE5B,uBAAMG,MAAO,CAAEC,SAAU,UAAYzC,UAAU,QAA/C,UACGa,EADH,iCChCK6B,EAAY,SAAC,GAAiC,IAAD,IAA9BC,aAA8B,MAAtB,GAAsB,EAAlBR,EAAkB,EAAlBA,YACtC,OAAKQ,EAAMd,OAIT,mCACGc,EAAMb,KAAI,SAAAF,GAAI,OACb,cAAC,EAAD,aAAWO,YAAaA,GAA+BP,GAAbA,EAAKlB,SAL5C,+CCJEkC,EAAY,WACxB,OACC,qBAAK5C,UAAU,WAAf,SACC,qBAAKA,UAAU,qBCDL6C,EAAQ,SAAC,GAAoD,IAAD,IAAjDjC,YAAiD,MAA1C,GAA0C,MAAtCkC,kBAAsC,MAAzB9B,SAASC,UAAgB,EAQvE,OAPA8B,qBAAU,WACR,IAAMC,EAAUC,WAAWH,EAAY,KACvC,OAAO,WACLI,aAAaF,MAGd,CAACpC,IAEF,qBAAKF,GAAG,kBAAR,SACE,sBAAKV,UAAU,QAAf,UAAwBY,EAAxB,4GCHOuC,EAAO,WAAO,IAAD,EACEf,mBAAS,IADX,mBACjBO,EADiB,KACVS,EADU,OAEKhB,oBAAS,GAFd,mBAEjBiB,EAFiB,KAETC,EAFS,OAGElB,mBAAS,IAHX,mBAGjBmB,EAHiB,KAGVC,EAHU,OAIsBpB,oBAAS,GAJ/B,mBAIjBqB,EAJiB,KAIAC,EAJA,OAKUtB,mBAAS,IALnB,mBAKjBuB,EALiB,KAKNC,EALM,KAiClBpC,EAAmB,WACvBkC,GAAoBD,IA6CtB,OATAV,qBAAU,WACRc,MC/EY,yCD+EG,CAAEC,QAAS,CAAEC,cChFhBC,yCDiFTC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACJA,EAAKC,UAAYjB,EAASgB,EAAKC,UAC/Bf,GAAW,MAEZgB,MAAMC,QAAQC,OAChB,IAED,iCACE,sBAAKxE,UAAU,YAAf,UACE,cAAC,EAAD,CAAMwB,iBAAkBA,EAAkBV,QAASyC,EAAM1B,SACxDwB,EACC,cAAC,EAAD,IAEA,qBAAKrD,UAAU,QAAf,SACE,cAAC,EAAD,CAAWmC,YAhFD,SAAAsC,GAClB,IAAMC,EAAYnB,EAAMoB,WAAU,SAAA/C,GAAI,OAAIA,EAAKlB,KAAO+D,EAAM/D,MAC5D,GAAIgE,EAAY,EACdlB,EAAS,GAAD,mBACHD,GADG,aAAC,eAGFkB,GAHC,IAIJ3D,QAAS,WAGR,CACL,IAAM8D,EAAWrB,EAAMzB,KAAI,SAACF,EAAMiD,GAChC,OAAIA,IAAUH,EACL,2BACF9C,GADL,IAEEd,QAASc,EAAKd,QAAU,IAGnBc,KAGX4B,EAAS,YAAIoB,IAEfhB,EAAaa,EAAM7D,OAyD0B+B,MAAOA,MAG/Cc,GAAmB,cAAC,EAAD,CAAYtC,eArCf,SAAAT,GACrB,IAAMoE,EAAYvB,EAAMzB,KAAI,SAAAF,GAC1B,OAAIA,EAAKlB,KAAOA,EACP,2BACFkB,GADL,IAEEd,QAA0B,IAAjBc,EAAKd,QAAgBc,EAAKd,QAAU,EAAI,IAG5Cc,KAGX4B,EAASsB,IA0B2D5D,eAlD/C,SAAAR,GACrB,IAAMoE,EAAYvB,EAAMzB,KAAI,SAAAF,GAC1B,OAAIA,EAAKlB,KAAOA,EACP,2BACFkB,GADL,IAEEd,QAASc,EAAKd,QAAU,IAGnBc,KAGX4B,EAASsB,IAuC2F/D,iBAtD7E,SAAAL,GACvB,IAAMoE,EAAYvB,EAAMwB,QAAO,SAAAnD,GAAI,OAAIA,EAAKlB,KAAOA,KACnD8C,EAASsB,IAoD+HtD,iBAAkBA,EAAkBD,OAAQgC,OAEjLI,GAAa,cAAC,EAAD,CAAO/C,KAAM+C,EAAWb,WAzBvB,WACjBc,EAAa,WE/DFoB,MAVf,WACC,OACC,qCACC,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCJHC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.94f2dd90.chunk.js","sourcesContent":["import React from 'react';\n\nexport const Footer = () => {\n  return (\n    <footer className='page-footer grey darken-3'>\n      <div className='footer-copyright'>\n        <div className='container'>\n          © {new Date().getFullYear()} Copyright Text\n          <a className='grey-text text-lighten-4 right' target='_blank' rel='noreferrer' href='https://github.com/kolan4ik/react-shop'>\n            GitHub\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/logo.4bdbcf83.svg\";","import React from 'react';\n\nimport logo from '../logo.svg';\n\nexport const Header = () => {\n  return (\n    <nav className='grey darken-3'>\n      <div className='nav-wrapper'>\n        <div className='brand-logo'>\n          <img src={logo} className='App-logo' alt='logo' /> Shop\n        </div>\n        <ul id='nav-mobile' className='right hide-on-med-and-down'>\n          <li>\n            <a target='_blank' rel='noreferrer' href='https://github.com/kolan4ik/react-shop'>\n              GitHub\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n};\n","import React from 'react';\n\nexport const BasketItem = ({ name, id, price, counter, removeFromBasket = Function.prototype, incrementGoods = Function.prototype, decrementGoods = Function.prototype }) => {\n  return (\n    <div class='collection-item'>\n      {name} x{' '}\n      <span className='calc'>\n        <i onClick={() => incrementGoods(id)} className='material-icons'>\n          add\n        </i>\n        <span className='calc_in'>{counter}</span>\n        <i onClick={() => decrementGoods(id)} className='material-icons'>\n          remove\n        </i>\n      </span>\n      = {price * counter} рублей\n      <span className='secondary-content'>\n        <i onClick={() => removeFromBasket(id)} class='material-icons basket-remove'>\n          close\n        </i>\n      </span>\n    </div>\n  );\n};\n","import { BasketItem } from './BasketItem';\n\nexport const BasketList = ({ orders = [], incrementGoods = Function.prototype, decrementGoods = Function.prototype, handleBasketShow = Function.prototype, removeFromBasket = Function.prototype }) => {\n  const totalPrice = orders.reduce((acc, item) => {\n    return acc + item.price * item.counter;\n  }, 0);\n  return (\n    <div className='collection basket-list'>\n      <div class='collection-item active'>Корзина</div>\n      {orders.length ? orders.map(item => <BasketItem decrementGoods={decrementGoods} incrementGoods={incrementGoods} removeFromBasket={removeFromBasket} key={item.id} {...item} />) : <div className='collection-item'>Тут пока нету товаров</div>}\n      <div class='collection-item active'>Общаяя стоимость {totalPrice} рублей</div>\n      <div class='collection-item  text-center'>\n        <button className='btn btn-small'>Оформить</button>\n      </div>\n      <i onClick={handleBasketShow} class='material-icons basket-close'>\n        close\n      </i>\n    </div>\n  );\n};\n","export const Cart = ({ counter = 0, handleBasketShow = Function.prototype }) => {\n  return (\n    <div onClick={handleBasketShow} className='basket-icon grey darken-2 white-text  '>\n      <i className='material-icons'>shopping_cart</i>\n      {counter ? <span className='basket-counter'>{counter}</span> : null}\n    </div>\n  );\n};\n","import { useState } from 'react';\n\nexport const GoodsItem = ({ id, name, description, price, full_background, addToBasket }) => {\n  const [isBasket, setIsBasket] = useState(false);\n\n  const addToBasketHandler = (id, name, description, price, full_background) => {\n    addToBasket(id, name, description, price, full_background);\n    setIsBasket(true);\n  };\n\n  return (\n    <div className='card'>\n      <div className='card-image'>\n        <img src={full_background} alt={name} />\n      </div>\n      <div className='card-content'>\n        <span className='card-title'>{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className='card-action'>\n        <button\n          onClick={() => {\n            addToBasketHandler({\n              id,\n              name,\n              description,\n              price,\n              full_background,\n            });\n          }}\n          className='btn'\n        >\n          {isBasket ? 'В корзине' : 'Купить'}\n        </button>\n        <span style={{ fontSize: '1.8rem' }} className='right'>\n          {price} руб.\n        </span>\n      </div>\n    </div>\n  );\n};\n","import { GoodsItem } from \"./GoodsItem\";\n\nexport const GoodsList = ({ goods = [], addToBasket }) => {\n  if (!goods.length) {\n    return <h3>Nothing here</h3>;\n  }\n  return (\n    <>\n      {goods.map(item => (\n        <GoodsItem addToBasket={addToBasket} key={item.id} {...item} />\n      ))}\n    </>\n  );\n};\n","export const Preloader = () => {\n\treturn (\n\t\t<div className='progress'>\n\t\t\t<div className='indeterminate'></div>\n\t\t</div>\n\t);\n};\n","import { useEffect } from 'react';\n\nexport const Alert = ({ name = '', closeAlert = Function.prototype }) => {\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 2000);\n    return () => {\n      clearTimeout(timerId);\n    };\n    // eslint-disable-next-line\n  }, [name]);\n  return (\n    <div id='toast-container'>\n      <div className='toast'>{name} добавлен в корзину</div>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\n\nimport { API_KEY, API_URL } from '../config';\nimport { BasketList } from './BasketList';\nimport { Cart } from './Cart';\nimport { GoodsList } from './GoodsList';\nimport { Preloader } from './Preloader';\nimport { Alert } from './Alert';\n\nexport const Shop = () => {\n  const [goods, setGoods] = useState([]);\n  const [loadin, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isVisibleBasket, setIsVisibleBasket] = useState(false);\n  const [alertName, setAlertName] = useState('');\n\n  const addToBasket = param => {\n    const itemIndex = order.findIndex(item => item.id === param.id);\n    if (itemIndex < 0) {\n      setOrder([\n        ...order,\n        {\n          ...param,\n          counter: 1,\n        },\n      ]);\n    } else {\n      const newState = order.map((item, index) => {\n        if (index === itemIndex) {\n          return {\n            ...item,\n            counter: item.counter + 1,\n          };\n        } else {\n          return item;\n        }\n      });\n      setOrder([...newState]);\n    }\n    setAlertName(param.name);\n  };\n\n  const handleBasketShow = () => {\n    setIsVisibleBasket(!isVisibleBasket);\n  };\n  const removeFromBasket = id => {\n    const newBasket = order.filter(item => item.id !== id);\n    setOrder(newBasket);\n  };\n  const incrementGoods = id => {\n    const newBasket = order.map(item => {\n      if (item.id === id) {\n        return {\n          ...item,\n          counter: item.counter + 1,\n        };\n      } else {\n        return item;\n      }\n    });\n    setOrder(newBasket);\n  };\n  const decrementGoods = id => {\n    const newBasket = order.map(item => {\n      if (item.id === id) {\n        return {\n          ...item,\n          counter: item.counter !== 0 ? item.counter - 1 : 0,\n        };\n      } else {\n        return item;\n      }\n    });\n    setOrder(newBasket);\n  };\n\n  const closeAlert = () => {\n    setAlertName('');\n  };\n  useEffect(function getGoods() {\n    fetch(API_URL, { headers: { Authorization: API_KEY } })\n      .then(res => res.json())\n      .then(data => {\n        data.featured && setGoods(data.featured);\n        setLoading(false);\n      })\n      .catch(console.log);\n  }, []);\n  return (\n    <main>\n      <div className='container'>\n        <Cart handleBasketShow={handleBasketShow} counter={order.length} />\n        {loadin ? (\n          <Preloader />\n        ) : (\n          <div className='goods'>\n            <GoodsList addToBasket={addToBasket} goods={goods} />\n          </div>\n        )}\n        {isVisibleBasket && <BasketList decrementGoods={decrementGoods} incrementGoods={incrementGoods} removeFromBasket={removeFromBasket} handleBasketShow={handleBasketShow} orders={order} />}\n      </div>\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\n    </main>\n  );\n};\n","const API_KEY = process.env.REACT_APP_API_KEY;\nconst API_URL = \"https://fortniteapi.io/v1/shop?lang=ru\";\n\nexport { API_KEY, API_URL };\n","import { Footer } from './components/Footer';\nimport { Header } from './components/Header';\nimport { Shop } from './components/Shop';\n\nfunction App() {\n\treturn (\n\t\t<>\n\t\t\t<Header />\n\t\t\t<Shop />\n\t\t\t<Footer />\n\t\t</>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}